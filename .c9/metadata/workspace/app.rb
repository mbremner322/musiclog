{"changed":false,"filter":false,"title":"app.rb","tooltip":"/app.rb","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":20,"column":19},"end":{"row":20,"column":20},"action":"insert","lines":["g"],"id":773}],[{"start":{"row":20,"column":21},"end":{"row":20,"column":22},"action":"insert","lines":["."],"id":774}],[{"start":{"row":20,"column":22},"end":{"row":20,"column":23},"action":"insert","lines":["b"],"id":775}],[{"start":{"row":20,"column":23},"end":{"row":20,"column":24},"action":"insert","lines":["l"],"id":776}],[{"start":{"row":20,"column":24},"end":{"row":20,"column":25},"action":"insert","lines":["a"],"id":777}],[{"start":{"row":20,"column":25},"end":{"row":20,"column":26},"action":"insert","lines":["n"],"id":778}],[{"start":{"row":20,"column":26},"end":{"row":20,"column":27},"action":"insert","lines":["c"],"id":779}],[{"start":{"row":20,"column":27},"end":{"row":20,"column":28},"action":"insert","lines":["k"],"id":780}],[{"start":{"row":20,"column":27},"end":{"row":20,"column":28},"action":"remove","lines":["k"],"id":781}],[{"start":{"row":20,"column":26},"end":{"row":20,"column":27},"action":"remove","lines":["c"],"id":782}],[{"start":{"row":20,"column":26},"end":{"row":20,"column":27},"action":"insert","lines":["k"],"id":783}],[{"start":{"row":20,"column":27},"end":{"row":20,"column":28},"action":"insert","lines":["?"],"id":784}],[{"start":{"row":20,"column":28},"end":{"row":20,"column":29},"action":"insert","lines":[" "],"id":785}],[{"start":{"row":20,"column":28},"end":{"row":20,"column":29},"action":"remove","lines":[" "],"id":786}],[{"start":{"row":21,"column":2},"end":{"row":21,"column":3},"action":"insert","lines":[" "],"id":787}],[{"start":{"row":21,"column":3},"end":{"row":21,"column":4},"action":"insert","lines":[" "],"id":788}],[{"start":{"row":22,"column":2},"end":{"row":22,"column":3},"action":"insert","lines":["e"],"id":789}],[{"start":{"row":22,"column":3},"end":{"row":22,"column":4},"action":"insert","lines":["n"],"id":790}],[{"start":{"row":22,"column":4},"end":{"row":22,"column":5},"action":"insert","lines":["d"],"id":791}],[{"start":{"row":20,"column":2},"end":{"row":20,"column":8},"action":"remove","lines":["unless"],"id":792},{"start":{"row":20,"column":2},"end":{"row":20,"column":3},"action":"insert","lines":["i"]}],[{"start":{"row":20,"column":3},"end":{"row":20,"column":4},"action":"insert","lines":["f"],"id":793}],[{"start":{"row":20,"column":22},"end":{"row":20,"column":23},"action":"remove","lines":["k"],"id":794}],[{"start":{"row":20,"column":21},"end":{"row":20,"column":22},"action":"remove","lines":["n"],"id":795}],[{"start":{"row":20,"column":20},"end":{"row":20,"column":21},"action":"remove","lines":["a"],"id":796}],[{"start":{"row":20,"column":19},"end":{"row":20,"column":20},"action":"remove","lines":["l"],"id":797}],[{"start":{"row":20,"column":18},"end":{"row":20,"column":19},"action":"remove","lines":["b"],"id":798}],[{"start":{"row":20,"column":17},"end":{"row":20,"column":18},"action":"remove","lines":["."],"id":799}],[{"start":{"row":20,"column":17},"end":{"row":20,"column":18},"action":"remove","lines":["?"],"id":800}],[{"start":{"row":20,"column":15},"end":{"row":20,"column":16},"action":"remove","lines":["g"],"id":801}],[{"start":{"row":20,"column":14},"end":{"row":20,"column":15},"action":"remove","lines":["m"],"id":802}],[{"start":{"row":20,"column":13},"end":{"row":20,"column":14},"action":"remove","lines":["i"],"id":803}],[{"start":{"row":20,"column":13},"end":{"row":20,"column":14},"action":"insert","lines":["f"],"id":804}],[{"start":{"row":20,"column":14},"end":{"row":20,"column":15},"action":"insert","lines":["i"],"id":805}],[{"start":{"row":20,"column":15},"end":{"row":20,"column":16},"action":"insert","lines":["l"],"id":806}],[{"start":{"row":20,"column":16},"end":{"row":20,"column":17},"action":"insert","lines":["e"],"id":807}],[{"start":{"row":21,"column":9},"end":{"row":21,"column":10},"action":"remove","lines":["_"],"id":808}],[{"start":{"row":21,"column":8},"end":{"row":21,"column":9},"action":"remove","lines":["e"],"id":809}],[{"start":{"row":21,"column":7},"end":{"row":21,"column":8},"action":"remove","lines":["g"],"id":810}],[{"start":{"row":21,"column":6},"end":{"row":21,"column":7},"action":"remove","lines":["a"],"id":811}],[{"start":{"row":21,"column":5},"end":{"row":21,"column":6},"action":"remove","lines":["m"],"id":812}],[{"start":{"row":21,"column":4},"end":{"row":21,"column":5},"action":"remove","lines":["i"],"id":813}],[{"start":{"row":21,"column":4},"end":{"row":21,"column":5},"action":"insert","lines":["l"],"id":814}],[{"start":{"row":21,"column":5},"end":{"row":21,"column":6},"action":"insert","lines":["o"],"id":815}],[{"start":{"row":21,"column":6},"end":{"row":21,"column":7},"action":"insert","lines":["a"],"id":816}],[{"start":{"row":21,"column":6},"end":{"row":21,"column":7},"action":"remove","lines":["a"],"id":817}],[{"start":{"row":21,"column":5},"end":{"row":21,"column":6},"action":"remove","lines":["o"],"id":818}],[{"start":{"row":21,"column":4},"end":{"row":21,"column":5},"action":"remove","lines":["l"],"id":819}],[{"start":{"row":21,"column":4},"end":{"row":21,"column":5},"action":"insert","lines":["i"],"id":820}],[{"start":{"row":21,"column":5},"end":{"row":21,"column":6},"action":"insert","lines":["m"],"id":821}],[{"start":{"row":21,"column":6},"end":{"row":21,"column":7},"action":"insert","lines":["a"],"id":822}],[{"start":{"row":21,"column":7},"end":{"row":21,"column":8},"action":"insert","lines":["g"],"id":823}],[{"start":{"row":21,"column":8},"end":{"row":21,"column":9},"action":"insert","lines":["e"],"id":824}],[{"start":{"row":21,"column":9},"end":{"row":21,"column":10},"action":"insert","lines":["_"],"id":825}],[{"start":{"row":21,"column":16},"end":{"row":21,"column":17},"action":"insert","lines":["_"],"id":826}],[{"start":{"row":21,"column":17},"end":{"row":21,"column":18},"action":"insert","lines":["l"],"id":827}],[{"start":{"row":21,"column":18},"end":{"row":21,"column":19},"action":"insert","lines":["o"],"id":828}],[{"start":{"row":21,"column":19},"end":{"row":21,"column":20},"action":"insert","lines":["a"],"id":829}],[{"start":{"row":21,"column":20},"end":{"row":21,"column":21},"action":"insert","lines":["c"],"id":830}],[{"start":{"row":21,"column":21},"end":{"row":21,"column":22},"action":"insert","lines":["l"],"id":831}],[{"start":{"row":21,"column":21},"end":{"row":21,"column":22},"action":"remove","lines":["l"],"id":832}],[{"start":{"row":21,"column":20},"end":{"row":21,"column":21},"action":"remove","lines":["c"],"id":833}],[{"start":{"row":21,"column":19},"end":{"row":21,"column":20},"action":"remove","lines":["a"],"id":834}],[{"start":{"row":21,"column":19},"end":{"row":21,"column":20},"action":"insert","lines":["c"],"id":835}],[{"start":{"row":21,"column":20},"end":{"row":21,"column":21},"action":"insert","lines":["a"],"id":836}],[{"start":{"row":21,"column":21},"end":{"row":21,"column":22},"action":"insert","lines":["l"],"id":837}],[{"start":{"row":26,"column":3},"end":{"row":27,"column":0},"action":"insert","lines":["",""],"id":841}],[{"start":{"row":0,"column":0},"end":{"row":26,"column":3},"action":"remove","lines":["require 'bundler/setup'","Bundler.require","require 'sinatra/reloader' if development?","require 'open-uri'","require \"sinatra/json\"","","Dotenv.load","","require './image_uploader.rb'","require './models.rb'","","get '/' do","  @contents = Contribution.order('id desc').all","  erb :index","end","","post '/new' do","  logger.info \"名前：#{params[:user_name]}、内容：#{params[:body]}\"","  Contribution.create(:name => params[:user_name], :body => params[:body], :img => \"\")","  ","  if params[:file]","    image_upload_local(params[:file])","  end","  ","  ","  redirect '/'","end"],"id":842}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""],"id":843}],[{"start":{"row":5,"column":0},"end":{"row":7,"column":0},"action":"remove","lines":["","Dotenv.load",""],"id":844}],[{"start":{"row":6,"column":0},"end":{"row":8,"column":0},"action":"insert","lines":["Dotenv.load","",""],"id":845,"ignore":true}],[{"start":{"row":5,"column":0},"end":{"row":6,"column":11},"action":"remove","lines":["","Dotenv.load"],"id":846}],[{"start":{"row":4,"column":22},"end":{"row":5,"column":0},"action":"remove","lines":["",""],"id":847}],[{"start":{"row":21,"column":0},"end":{"row":21,"column":2},"action":"remove","lines":["  "],"id":848}],[{"start":{"row":20,"column":5},"end":{"row":21,"column":0},"action":"remove","lines":["",""],"id":849}],[{"start":{"row":19,"column":16},"end":{"row":19,"column":22},"action":"remove","lines":["_local"],"id":850}],[{"start":{"row":16,"column":22},"end":{"row":17,"column":0},"action":"insert","lines":["",""],"id":851},{"start":{"row":17,"column":0},"end":{"row":17,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":17,"column":4},"end":{"row":17,"column":9},"action":"remove","lines":[":name"],"id":852},{"start":{"row":17,"column":4},"end":{"row":17,"column":5},"action":"insert","lines":["n"]}],[{"start":{"row":17,"column":5},"end":{"row":17,"column":6},"action":"insert","lines":["a"],"id":853}],[{"start":{"row":17,"column":6},"end":{"row":17,"column":7},"action":"insert","lines":["m"],"id":854}],[{"start":{"row":17,"column":7},"end":{"row":17,"column":8},"action":"insert","lines":["e"],"id":855}],[{"start":{"row":17,"column":8},"end":{"row":17,"column":9},"action":"insert","lines":[":"],"id":856}],[{"start":{"row":17,"column":9},"end":{"row":17,"column":12},"action":"remove","lines":[" =>"],"id":857}],[{"start":{"row":17,"column":30},"end":{"row":17,"column":31},"action":"remove","lines":[":"],"id":858}],[{"start":{"row":17,"column":30},"end":{"row":18,"column":0},"action":"insert","lines":["",""],"id":859},{"start":{"row":18,"column":0},"end":{"row":18,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":18,"column":8},"end":{"row":18,"column":9},"action":"insert","lines":[":"],"id":860}],[{"start":{"row":18,"column":9},"end":{"row":18,"column":13},"action":"remove","lines":[" => "],"id":861}],[{"start":{"row":18,"column":9},"end":{"row":18,"column":10},"action":"insert","lines":[" "],"id":862}],[{"start":{"row":18,"column":24},"end":{"row":18,"column":25},"action":"remove","lines":[" "],"id":863}],[{"start":{"row":18,"column":23},"end":{"row":18,"column":24},"action":"remove","lines":[","],"id":864}],[{"start":{"row":18,"column":23},"end":{"row":19,"column":0},"action":"insert","lines":["",""],"id":865},{"start":{"row":19,"column":0},"end":{"row":19,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":19,"column":4},"end":{"row":19,"column":5},"action":"remove","lines":[":"],"id":866}],[{"start":{"row":19,"column":7},"end":{"row":19,"column":8},"action":"insert","lines":[":"],"id":867}],[{"start":{"row":19,"column":8},"end":{"row":19,"column":12},"action":"remove","lines":[" => "],"id":868}],[{"start":{"row":19,"column":8},"end":{"row":19,"column":9},"action":"insert","lines":[" "],"id":869}],[{"start":{"row":16,"column":22},"end":{"row":16,"column":23},"action":"insert","lines":["{"],"id":870}],[{"start":{"row":19,"column":11},"end":{"row":19,"column":12},"action":"insert","lines":["}"],"id":871}],[{"start":{"row":19,"column":11},"end":{"row":21,"column":2},"action":"insert","lines":["","    ","  "],"id":872}],[{"start":{"row":20,"column":2},"end":{"row":20,"column":4},"action":"remove","lines":["  "],"id":873}],[{"start":{"row":20,"column":0},"end":{"row":20,"column":2},"action":"remove","lines":["  "],"id":874}],[{"start":{"row":19,"column":11},"end":{"row":20,"column":0},"action":"remove","lines":["",""],"id":875}],[{"start":{"row":18,"column":23},"end":{"row":18,"column":24},"action":"insert","lines":[","],"id":876}]]},"ace":{"folds":[],"scrolltop":16.5,"scrollleft":0,"selection":{"start":{"row":21,"column":2},"end":{"row":21,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":0,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1432910911457}